{"required":["metadata","data","validation"],"description":"A comprehensive schema demonstrating various JSON Schema features","title":"Complex Data Exchange Schema","type":"object","properties":{"metadata":{"type":"object","required":["version","timestamp","source"],"properties":{"version":{"type":"string","pattern":"^\\d+\\.\\d+\\.\\d+$","description":"Semantic version of the schema"},"timestamp":{"type":"string","format":"date-time","description":"ISO 8601 timestamp"},"source":{"type":"object","required":["system","environment"],"properties":{"system":{"type":"string","enum":["PROD","STAGING","DEV"]},"environment":{"type":"string","pattern":"^[A-Z0-9_]+$"}}}}},"data":{"type":"array","minItems":1,"maxItems":1000,"items":{"oneOf":[{"$ref":"#/definitions/person"},{"$ref":"#/definitions/organization"}]}},"validation":{"type":"object","required":["rules","checks"],"properties":{"rules":{"type":"array","items":{"type":"object","required":["name","condition"],"properties":{"name":{"type":"string"},"condition":{"type":"string","enum":["REQUIRED","OPTIONAL","CONDITIONAL"]}}}},"checks":{"type":"object","patternProperties":{"^[A-Za-z0-9_]+$":{"type":"boolean"}}}}}},"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://github.com/cdcent/data-exchange-messages/reports/test","$defs":{"person":{"type":"object","required":["id","name","contact"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"object","required":["first","last"],"properties":{"first":{"type":"string","minLength":1,"maxLength":50},"last":{"type":"string","minLength":1,"maxLength":50},"middle":{"type":"string","maxLength":50}}},"contact":{"type":"object","required":["email"],"properties":{"email":{"type":"string","format":"email"},"phone":{"type":"string","pattern":"^\\+?[1-9]\\d{1,14}$"},"address":{"type":"object","properties":{"street":{"type":"string"},"city":{"type":"string"},"state":{"type":"string","pattern":"^[A-Z]{2}$"},"zip":{"type":"string","pattern":"^\\d{5}(-\\d{4})?$"}}}}},"preferences":{"type":"object","properties":{"notifications":{"type":"array","items":{"type":"string","enum":["email","sms","push"]}},"language":{"type":"string","enum":["en","es","fr","de"]}}}}},"organization":{"type":"object","required":["id","name","type"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string","minLength":1,"maxLength":100},"type":{"type":"string","enum":["CORPORATION","LLC","PARTNERSHIP","NONPROFIT"]},"employees":{"type":"array","items":{"$ref":"#/definitions/person"}},"departments":{"type":"array","items":{"type":"object","required":["name","budget"],"properties":{"name":{"type":"string"},"budget":{"type":"number","minimum":0},"headcount":{"type":"integer","minimum":0}}}}}}}}